{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport httpClient from '../httpClient';\nfunction useAuth() {\n  _s();\n  const [user, setUser] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  useEffect(() => {\n    const checkUser = async () => {\n      try {\n        const resp = await httpClient.get(\"https://disneyflask.onrender.com/@me\", {\n          withCredentials: true\n        });\n        if (resp.status === 200) {\n          setUser(resp.data);\n        } else {\n          setUser(null);\n          console.log(resp.data);\n        }\n      } catch (error) {\n        setUser(null);\n        console.error(error);\n      }\n      setIsLoading(false);\n    };\n    checkUser();\n  }, []);\n  return {\n    user,\n    isLoading\n  };\n}\n_s(useAuth, \"YajQB7LURzRD+QP5gw0+K2TZIWA=\");\nexport default useAuth;","map":{"version":3,"names":["React","useState","useEffect","httpClient","useAuth","_s","user","setUser","isLoading","setIsLoading","checkUser","resp","get","withCredentials","status","data","console","log","error"],"sources":["/Users/wassimmouloud/coding_projects/projet_web/client/src/hooks/useAuth.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport httpClient from '../httpClient';\n\nfunction useAuth() {\n    const [user, setUser] = useState(null);\n    const [isLoading, setIsLoading] = useState(true);\n\n    useEffect(() => {\n        const checkUser = async () => {\n            try {\n                const resp = await httpClient.get(\"https://disneyflask.onrender.com/@me\", { withCredentials: true });\n                if (resp.status === 200) {\n                    setUser(resp.data);\n                } else {\n                    setUser(null);\n                    console.log(resp.data);\n                }\n            } catch (error) {\n                setUser(null);\n                console.error(error);\n            }\n            setIsLoading(false);\n        };\n\n        checkUser();\n    }, []);\n\n    return { user, isLoading };\n}\n\nexport default useAuth;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,UAAU,MAAM,eAAe;AAEtC,SAASC,OAAOA,CAAA,EAAG;EAAAC,EAAA;EACf,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGN,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACO,SAAS,EAAEC,YAAY,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;EAEhDC,SAAS,CAAC,MAAM;IACZ,MAAMQ,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC1B,IAAI;QACA,MAAMC,IAAI,GAAG,MAAMR,UAAU,CAACS,GAAG,CAAC,sCAAsC,EAAE;UAAEC,eAAe,EAAE;QAAK,CAAC,CAAC;QACpG,IAAIF,IAAI,CAACG,MAAM,KAAK,GAAG,EAAE;UACrBP,OAAO,CAACI,IAAI,CAACI,IAAI,CAAC;QACtB,CAAC,MAAM;UACHR,OAAO,CAAC,IAAI,CAAC;UACbS,OAAO,CAACC,GAAG,CAACN,IAAI,CAACI,IAAI,CAAC;QAC1B;MACJ,CAAC,CAAC,OAAOG,KAAK,EAAE;QACZX,OAAO,CAAC,IAAI,CAAC;QACbS,OAAO,CAACE,KAAK,CAACA,KAAK,CAAC;MACxB;MACAT,YAAY,CAAC,KAAK,CAAC;IACvB,CAAC;IAEDC,SAAS,CAAC,CAAC;EACf,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IAAEJ,IAAI;IAAEE;EAAU,CAAC;AAC9B;AAACH,EAAA,CAzBQD,OAAO;AA2BhB,eAAeA,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}