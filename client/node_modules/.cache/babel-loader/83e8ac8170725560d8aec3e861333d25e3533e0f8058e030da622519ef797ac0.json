{"ast":null,"code":"var _jsxFileName = \"/Users/wassimmouloud/coding_projects/projet_web/client/src/sections/Search.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport Footer from '../components/Footer';\nimport Navbar from '../components/Navbar';\nimport SearchCard from '../components/SearchCard';\nimport '../App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Search({\n  watchlistMovies,\n  watchlistSeries,\n  getWatchlistMovies,\n  getWatchlistSeries,\n  addMovieToWatchlist,\n  addSeriesToWatchlist,\n  hovered,\n  setHovered,\n  hoveredMovieId,\n  setHoveredMovieId,\n  handleMouseEnter,\n  handleMouseLeave\n}) {\n  _s();\n  const [popular, setPopular] = useState([]);\n  const [content, setContent] = useState([]);\n  const [title, setTitle] = useState('Popular Searches');\n  const inputRef = useRef(null);\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI2NWIyOTk3YzgzMDBjZTlhN2Q0NzJjYjBhMzljZjI4ZiIsInN1YiI6IjYzNWFiODU0MmQ4ZWYzMDA4MTM5YmQ4ZCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.9uqLs8oCBNUguiDI0vyPoXyrmksjpVbHnZKtHnJObG0'\n    }\n  };\n  useEffect(() => {\n    fetch('https://api.themoviedb.org/3/movie/popular?language=en-US&page=1', options).then(response => response.json()).then(response => setPopular(response.results)).catch(err => console.error(err));\n  }, []);\n  useEffect(() => setContent(popular), [popular]);\n  const handleChange = async e => {\n    const word = e.target.value;\n    if (word === \"\") {\n      setContent(popular);\n      setTitle(\"Popular Searches\");\n    } else {\n      const movies = await getMovies(word);\n      const series = await getSeries(word);\n      setTitle(\"Top Results\");\n      setContent([...movies, ...series]);\n    }\n  };\n  const getMovies = async word => {\n    const response = await fetch(`https://api.themoviedb.org/3/search/movie?query=${word}&include_adult=false&language=en-US&page=1`, options);\n    const json = await response.json();\n    return json.results.slice(0, 5);\n  };\n  const getSeries = async word => {\n    const response = await fetch(`https://api.themoviedb.org/3/search/tv?query=${word}&include_adult=false&language=en-US&page=1`, options);\n    const json = await response.json();\n    return json.results.slice(0, 5);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col items-center w-screen\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-[90%] lg:w-[calc(100%-100px)] xl:w-[calc(100%-200px)] h-[55px] lg:h-[65px] overflow-y-hidden flex items-center gap-2 bg-[#262833] mt-5  rounded-[7px]  p-4 my-4 \",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: inputRef,\n          onChange: handleChange,\n          type: \"text\",\n          placeholder: \"Movies, shows and more\",\n          className: \"w-[100%] h-[40px] rounded-[7px] bg-[#262833] outline-none text-white text-[16px] lg:text-[18px]\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-white  text-[20px] lg:text-[24px] font-semibold  my-6 \",\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-screen lg:w-[calc(100%-100px)] xl:w-[calc(100%-200px)] grid grid-cols-2 sm:grid-cols-3  md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-2  mb-[120px] lg:mb-0  \",\n        children: content.map((content, index) => movie.poster_path ? /*#__PURE__*/_jsxDEV(SearchCard, {\n          movie: content,\n          index: index,\n          watchlistMovies: watchlistMovies,\n          watchlistSeries: watchlistSeries,\n          getMovies: getWatchlistMovies,\n          getSeries: getWatchlistSeries,\n          addMovieToWatchlist: addMovieToWatchlist,\n          addSeriesToWatchlist: addSeriesToWatchlist,\n          hovered: hovered,\n          setHovered: setHovered,\n          hoveredMovieId: hoveredMovieId,\n          setHoveredMovieId: setHoveredMovieId,\n          handleMouseEnter: handleMouseEnter,\n          handleMouseLeave: handleMouseLeave\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 29\n        }, this) : null)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n}\n_s(Search, \"8Vmd6eqt+ixsJy1dLBSrqgPRpdc=\");\n_c = Search;\nexport default Search;\nvar _c;\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Footer","Navbar","SearchCard","jsxDEV","_jsxDEV","Search","watchlistMovies","watchlistSeries","getWatchlistMovies","getWatchlistSeries","addMovieToWatchlist","addSeriesToWatchlist","hovered","setHovered","hoveredMovieId","setHoveredMovieId","handleMouseEnter","handleMouseLeave","_s","popular","setPopular","content","setContent","title","setTitle","inputRef","options","method","headers","accept","Authorization","fetch","then","response","json","results","catch","err","console","error","handleChange","e","word","target","value","movies","getMovies","series","getSeries","slice","className","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","onChange","type","placeholder","map","index","movie","poster_path","_c","$RefreshReg$"],"sources":["/Users/wassimmouloud/coding_projects/projet_web/client/src/sections/Search.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport Footer from '../components/Footer'\nimport Navbar from '../components/Navbar';\nimport SearchCard from '../components/SearchCard'\nimport '../App.css'\n\n\nfunction Search({watchlistMovies, watchlistSeries , getWatchlistMovies, getWatchlistSeries, addMovieToWatchlist, addSeriesToWatchlist, hovered, setHovered, hoveredMovieId, setHoveredMovieId, handleMouseEnter, handleMouseLeave }) {\n    \n    const [popular, setPopular]= useState([]);\n    const [content, setContent]= useState([]);\n    const [title, setTitle]= useState('Popular Searches')\n    const inputRef= useRef(null)\n    \n    const options = {\n        method: 'GET',\n        headers: {\n          accept: 'application/json',\n          Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI2NWIyOTk3YzgzMDBjZTlhN2Q0NzJjYjBhMzljZjI4ZiIsInN1YiI6IjYzNWFiODU0MmQ4ZWYzMDA4MTM5YmQ4ZCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.9uqLs8oCBNUguiDI0vyPoXyrmksjpVbHnZKtHnJObG0'\n        }\n    };\n\n\n    useEffect(() => {\n        fetch('https://api.themoviedb.org/3/movie/popular?language=en-US&page=1', options)\n            .then(response => response.json())\n            .then(response => setPopular(response.results))\n            .catch(err => console.error(err));\n    }, []);\n    \n    useEffect(() => setContent(popular), [popular]);\n\n    const handleChange = async (e) => {\n        const word = e.target.value;\n    \n        if(word===\"\"){\n            setContent(popular);\n            setTitle(\"Popular Searches\")\n        }else{\n            const movies = await getMovies(word);\n            const series = await getSeries(word);\n            setTitle(\"Top Results\")\n            setContent([...movies, ...series]);\n        }\n    }\n    \n    const getMovies = async (word) => {\n        const response = await fetch(`https://api.themoviedb.org/3/search/movie?query=${word}&include_adult=false&language=en-US&page=1`, options);\n        const json = await response.json();\n        return json.results.slice(0,5);\n    }\n    \n    const getSeries = async (word) => {\n        const response = await fetch(`https://api.themoviedb.org/3/search/tv?query=${word}&include_adult=false&language=en-US&page=1`, options);\n        const json = await response.json();\n        return json.results.slice(0,5);\n    }\n    \n\n    return (\n        <div className='relative'>\n            <Navbar/>\n            <div className='flex flex-col items-center w-screen' >\n                <div className='w-[90%] lg:w-[calc(100%-100px)] xl:w-[calc(100%-200px)] h-[55px] lg:h-[65px] overflow-y-hidden flex items-center gap-2 bg-[#262833] mt-5  rounded-[7px]  p-4 my-4 ' >\n                    <input ref={inputRef} onChange={handleChange} type=\"text\" placeholder='Movies, shows and more' className='w-[100%] h-[40px] rounded-[7px] bg-[#262833] outline-none text-white text-[16px] lg:text-[18px]'/>\n                </div>\n                <p className='text-white  text-[20px] lg:text-[24px] font-semibold  my-6 ' >{title}</p>\n                <div  className='w-screen lg:w-[calc(100%-100px)] xl:w-[calc(100%-200px)] grid grid-cols-2 sm:grid-cols-3  md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-2  mb-[120px] lg:mb-0  ' >\n                    {content.map((content, index) => \n                        movie.poster_path ? (\n                            <SearchCard movie={content} index={index}  watchlistMovies={watchlistMovies} watchlistSeries={watchlistSeries} getMovies={getWatchlistMovies} getSeries={getWatchlistSeries} addMovieToWatchlist={addMovieToWatchlist} addSeriesToWatchlist={addSeriesToWatchlist} hovered={hovered} setHovered={setHovered} hoveredMovieId={hoveredMovieId} setHoveredMovieId={setHoveredMovieId} handleMouseEnter={handleMouseEnter} handleMouseLeave={handleMouseLeave} />\n                        ) : null\n                    )}\n                </div>\n            </div>\n            <Footer/>\n        </div>\n    )\n}\n\nexport default Search;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}